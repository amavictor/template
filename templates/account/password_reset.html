{% extends 'base.html' %}

{% block title %}Reset Password - TechMart{% endblock %}

{% block extra_css %}
<style>
    .auth-container {
        max-width: 450px;
        margin: 2rem auto;
    }
    
    .auth-card {
        background: white;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        border: none;
    }
    
    .auth-header {
        background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
        color: white;
        border-radius: 15px 15px 0 0;
        padding: 2rem;
        text-align: center;
    }
    
    .form-control:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 0.2rem rgba(99, 102, 241, 0.15);
    }
    
    .btn-primary {
        background: linear-gradient(135deg, var(--primary-color), #8b5cf6);
        border: none;
        padding: 12px;
        border-radius: 8px;
        font-weight: 500;
    }
    
    .reset-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="auth-container">
        <div class="card auth-card">
            <div class="auth-header">
                <div class="reset-icon">
                    <i class="fas fa-key"></i>
                </div>
                <h2>Reset Password</h2>
                <p class="mb-0">Enter your email to receive reset instructions</p>
            </div>
            
            <div class="card-body p-4">
                <form method="post" action="{% url 'account_reset_password' %}">
                    {% csrf_token %}
                    
                    {% if form.non_field_errors %}
                        <div class="alert alert-danger">
                            {{ form.non_field_errors }}
                        </div>
                    {% endif %}
                    
                    <div class="mb-4">
                        <label for="id_email" class="form-label">Email Address</label>
                        <input type="email" class="form-control form-control-lg" id="id_email" name="email" 
                               value="{{ form.email.value|default_if_none:'' }}" required
                               placeholder="Enter your email address">
                        {% if form.email.errors %}
                            <div class="text-danger small mt-1">{{ form.email.errors }}</div>
                        {% endif %}
                        <div class="form-text">
                            We'll send you an email with instructions to reset your password.
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary w-100 btn-lg mb-3">
                        <i class="fas fa-paper-plane"></i> Send Reset Email
                    </button>
                </form>

                <!-- Back to Login -->
                <div class="text-center">
                    <a href="{% url 'account_login' %}" class="text-decoration-none">
                        <i class="fas fa-arrow-left"></i> Back to Sign In
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Help -->
        <div class="text-center mt-4">
            <div class="card">
                <div class="card-body py-3">
                    <h6 class="mb-2">
                        <i class="fas fa-question-circle text-info"></i> Need Help?
                    </h6>
                    <p class="mb-0 small text-muted">
                        If you don't receive the email within a few minutes, 
                        check your spam folder or contact support.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Focus on email field when page loads
document.addEventListener('DOMContentLoaded', function() {
    const emailField = document.getElementById('id_email');
    if (emailField) {
        emailField.focus();
    }
});
</script>
{% endblock %}